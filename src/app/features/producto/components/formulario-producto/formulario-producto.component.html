<h1 mat-dialog-title>
  {{
    (esActualizar
      ? "productos.titulos.formularioActualizar"
      : "productos.titulos.formularioCrear"
    ) | translate
  }}
</h1>

<form mat-dialog-content [formGroup]="form" *ngIf="isForm | async as isForm">
  <mat-grid-list
    [cols]="mybreakpoint"
    rowHeight="80px"
    (window:resize)="handleSize($event)"
  >
    <mat-grid-tile appearance="fill">
      <mat-form-field appearance="outline">
        <mat-label>{{ "productos.nombre" | translate }}</mat-label>
        <input matInput formControlName="nombre" type="text" maxlength="50" />
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile appearance="fill">
      <mat-form-field appearance="outline">
        <mat-label>{{ "productos.descripcion" | translate }}</mat-label>
        <input matInput formControlName="descripcion" type="text" maxlength="255"/>
      </mat-form-field>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list
    [cols]="mybreakpoint"
    rowHeight="80px"
    (window:resize)="handleSize($event)"
  >
    <mat-grid-tile appearance="fill">
      <mat-form-field appearance="outline">
        <mat-label>{{ "productos.referencia" | translate }}</mat-label>
        <input matInput formControlName="referencia" type="text" maxlength="10"/>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile appearance="fill">
      <mat-form-field appearance="outline">
        <mat-label>{{
          "productos.precioUnitario" | translate
        }}</mat-label>
        <input matInput formControlName="precioUnitario" type="number" />
      </mat-form-field>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list
    [cols]="mybreakpoint"
    rowHeight="80px"
    (window:resize)="handleSize($event)"
  >
    <mat-grid-tile appearance="fill">
      <mat-form-field appearance="outline">
        <mat-label>{{
          "productos.unidadesDisponibles" | translate
        }}</mat-label>
        <input matInput formControlName="unidadesDisponibles" type="number" />
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile appearance="fill">
      <mat-form-field appearance="outline">
        <mat-label>{{ "productos.categoria" | translate }}</mat-label>
        <mat-select formControlName="categoriaId">
          <mat-option
            *ngFor="let categoria of listCategorias"
            [value]="categoria.id"
            >{{ categoria.nombre }}</mat-option
          >
        </mat-select>
      </mat-form-field>
    </mat-grid-tile>
  </mat-grid-list>
</form>

<mat-dialog-actions align="center">
  <button mat-raised-button mat-dialog-close>
    {{ "general.botones.cerrar" | translate }}
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="procesarOperacion()"
    cdkFocusInitial
  >
    {{
      (esActualizar ? "general.botones.actualizar" : "general.botones.crear")
        | translate
    }}
  </button>
</mat-dialog-actions>
